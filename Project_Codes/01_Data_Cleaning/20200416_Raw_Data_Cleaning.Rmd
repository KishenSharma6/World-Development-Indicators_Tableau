---
title: "R Notebook"
output: html_notebook
---

# Introduction

In the following markdown file, I will be cleaning the World Development Indicators data set in preparation for a visualization in Tableau. This data presents the most current and accurate global development data available, and includes national, regional and global estimates.


Raw data, which has been last updated on 4/9/2020, can be found here from the [World Bank group](https://datacatalog.worldbank.org/dataset/world-development-indicators)

# Data Preview

### Read in libraries
```{r echo=TRUE, results='hide'}
#Read in libraries
library(tidyverse)
```

### Preview Data
```{r include=FALSE}
#Set working directory to Raw_Data
setwd("C:/Users/kishe/Documents/Data Science/Projects/Tableau/Makeover Monday/World Development Indicators/Data/01_Raw_Data")

#Read in csv as df and convert to tibble
df <- read.csv('WDIData.csv')
df <- as_tibble(df)

```
```{r}
#Display head
head(df)
```

# Data Cleaning
### 1.Columns
**Drop Columns**
```{r}
#Drop Indicator.Code column
df <- subset(df, select = -c(Indicator.Code, X))
```

**Edit Headers**
```{r}
#Drop X in front of years columns
names(df) <- sub('X','',names(df))

#Rename ï..Country.Name
df <- df %>% 
  rename('Country.Name' = 'ï..Country.Name')

#Check
head(df)
```

### 2. Data Wrangling
**Gather years and spread Indicator.Name**

```{r}
#Apply gather and spread to make data tidy
cleaned_df <- df %>% 
  gather('1960':'2019', key = 'Year', value = 'value') %>% 
  spread(key = 'Indicator.Name', value = 'value')

#Check
head(cleaned_df)
```

```{r include=FALSE}
#Set WD to write cleaned_df file
setwd("C:/Users/kishe/Documents/Data Science/Projects/Tableau/Makeover Monday/World Development Indicators/Data/02_Cleaned_Data")

#Write file to csv
write.csv(cleaned_df, "20200424_Cleaned_WDIData.csv")
```

